datasource db {
  provider = "postgresql"  // Change to your DB provider (e.g., "mysql" or "sqlite")
  url      = env("DATABASE_URL")  // The database URL should be in your .env file
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id    Int           @id @default(autoincrement())
  name  String
  email String        @unique
  userResponses UserResponse[] // If User has many responses
}

model Question {
  id          Int              @id @default(autoincrement())
  content     String
  answers     Answer[]          // One-to-many relation to the Answer model
  responses   UserResponse[]    // One-to-many relation to UserResponse (reverse relation)
}

model Answer {
  id            Int              @id @default(autoincrement())
  content       String
  questionId    Int              // Foreign key to Question
  question      Question         @relation(fields: [questionId], references: [id]) // Relation to the Question model
  userResponses UserResponse[]   // One-to-many relation to UserResponse (reverse relation)
}

model UserResponse {
  id          Int      @id @default(autoincrement())
  userId      Int
  questionId  Int
  answerId    Int

  user        User      @relation(fields: [userId], references: [id])    // Relation to the User model
  question    Question  @relation(fields: [questionId], references: [id]) // Relation to the Question model
  answer      Answer    @relation(fields: [answerId], references: [id])    // Relation to the Answer model
}
